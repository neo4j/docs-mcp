[[usage]]
= Usage

== Tools

Provided tools:

[cols="4*", options="header"]
|===
| Tool                 | ReadOnly | Purpose                                        | Notes
| `get-schema`         | Yes      | Introspect labels, relationship types, property keys | Provide valuable context to the client LLMs.
| `read-cypher`        | Yes      | Execute arbitrary Cypher (read mode)           | Rejects writes, schema/admin operations, and PROFILE queries.
| `write-cypher`       | No       | Execute arbitrary Cypher (write mode)          | Caution: LLM-generated queries can cause harm. Use only in development environments. Disabled if `NEO4J_READ_ONLY=true`.
| `list-gds-procedures` | Yes     | List GDS procedures available in the instance  | Help the client LLM to have better visibility on available GDS procedures.
|===

=== Readonly mode

Enable readonly mode by setting the `NEO4J_READ_ONLY` environment variable to `true`.
When enabled, write tools (such as `write-cypher`) are not exposed to clients.

== Configuration

`neo4j-mcp` requires explicit configuration to connect to your Neo4j instance.
Configuration can be provided through environment variables or command-line flags.

=== Environment Variables

The following environment variables are used for configuration:

[cols="2*", options="header"]
|===
| Variable             | Description
| `NEO4J_URI`          | Connection URI (e.g., `bolt://localhost:7687`)
| `NEO4J_USERNAME`     | Neo4j username
| `NEO4J_PASSWORD`     | Neo4j password
| `NEO4J_DATABASE`     | Database name (e.g., `neo4j`)
| `NEO4J_READ_ONLY`    | Optional. Set to `true` to disable write tools
| `NEO4J_TELEMETRY`    | Optional. Set to `false` to disable telemetry
|===

=== Command-Line Flags

The following command-line flags are available and take precedence over environment variables:

[cols="2*", options="header"]
|===
| Flag                  | Description
| `--neo4j-uri`         | Override `NEO4J_URI` environment variable
| `--neo4j-username`    | Override `NEO4J_USERNAME` environment variable
| `--neo4j-password`    | Override `NEO4J_PASSWORD` environment variable
| `--neo4j-database`    | Override `NEO4J_DATABASE` environment variable
| `-v`, `--version`     | Display version information
|===

*Configuration Precedence:* Command-line flags take priority over environment variables.

*Note:* At least one method must be used to provide the required connection parameters (URI, username, password, and database). There are no default values.

=== Usage Examples

Running with environment variables only (as configured in MCP client):

[source, bash]
----
neo4j-mcp
----

Running with command-line flags:

[source, bash]
----
neo4j-mcp --neo4j-uri bolt://localhost:7687 \
  --neo4j-username neo4j \
  --neo4j-password mypassword \
  --neo4j-database neo4j
----

Mixing environment variables and flags (flags override env vars):

[source, bash]
----
# Uses NEO4J_URI from environment, but overrides other parameters
neo4j-mcp --neo4j-username admin \
  --neo4j-password adminpass \
  --neo4j-database production
----

== Examples for natural language prompts

Here are some example prompts you can try in Copilot or any other MCP client:

- "What does my Neo4j instance contain? List all node labels, relationship types, and property keys."
- "Find all Person nodes and their relationships in my Neo4j instance."
- "Create a new User node with a name 'John' in my Neo4j instance."

== Security considerations

- Use a restricted Neo4j user for exploration.
- Review the generated Cypher queries before executing them in production databases.

== Telemetry

By default, `neo4j-mcp` collects anonymous usage data to help us improve the product.
This includes information like the tools being used, the operating system, and CPU architecture.
We do not collect any personal or sensitive information.

To disable telemetry, set the `NEO4J_TELEMETRY` environment variable to `"false"`.